<!DOCTYPE html>
<html>
<!-- 设置网站文字为中文 -->
<meta lang="zh-CN" />

<head>
  <meta charest="utf-8">
  <title>文化魅力</title>
  <!-- 设置屏幕宽度为设备宽度，初始缩放比例为1.0 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 定义网站的描述和关键词 -->
  <meta name="description" content="文化魅力是一个致力于传承和弘扬中华优秀传统文化的平台，提供丰富的古籍典藏、非物质文化遗产和著名诗人的介绍。
              " />
  <meta name="keywords" content="
             文化魅力,中华传统文化,古籍典藏,非物质文化遗产,著名诗人，敦煌壁画，文物珍宝，统计图展
               " />
  <!-- 设置网站图标 -->
  <link rel="shortcut icon" href="../static/favicon.ico" type="image/x-icon">
  <!-- 导入通用样式 -->
  <link rel="stylesheet" href="../static/css/common.css">
  <!-- 导入基础样式 -->
  <link rel="stylesheet" href="../static/css/base.css">
  <!-- 导入自定义样式 -->
  <link rel="stylesheet" href="../static/css/e-dunhuang.css">
  <!-- 导入外部https://cdnjs.cloudflare.com的插件 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
</head>

<body>
  <!--头部模块-->
  <header>
    <!--首页导航栏-->
    <nav class="index-nav">
      <!--网站logo设计-->
      <h1 class="logo">
        <a href="#">文化魅力</a>
      </h1>
      <!--首页导航栏列表-->
      <ul class="nav-list">
        <li><a href="{{ url_for('index') }}">首页</a></li>
        <li><a href="{{ url_for('book')}}">古籍典藏</a></li>
        <li class="heritage">
          <a href="{{ url_for('heritage') }}">非物质文化遗产</a>
        </li>
        <li class="poem">
          <a href="{{ url_for('poet') }}">中国著名诗人</a>
        </li>
      </ul>
    </nav>
  </header>
  <!-- 内容模块 -->
  <div class="scene">
    <!-- 书架 -->
    <article class="book">
      {% if books %}
      {% for i in range(0, books|length - 1, 2) %}
      <!-- 左右翻页 -->
      <section class="page {% if i == 0 %}active{% endif %}">
        <!-- 前一页 -->
        <div class="front">
          <!-- 第一个对象 -->
          <!-- 敦煌莫高窟名称 -->
          <h1 class="dunhuang-name">{{books[i].name}}</h1>
          <!-- 敦煌莫高窟的年代 -->
          <p class="dunhuang-time">{{books[i].dynasty}}</p>
          <div class="dunhuang-img">
            <!-- 敦煌莫高窟图片 -->
            <img src="{{books[i].img_link}}" alt="{{books[i].name}}">
          </div>
        </div>

        <!-- 后一页 -->
        <div class="back">
          {% if i + 1 < books|length %} <!-- 第二个对象 -->
            <div class="dunhuang-img">
              <!-- 敦煌莫高窟图片 -->
              <img src="{{books[i + 1].img_link}}" alt="{{books[i + 1].name}}">
            </div>
            <!-- 敦煌莫高窟名称 -->
            <h1 class="dunhuang-name">{{books[i + 1].name}}</h1>
            <!-- 敦煌莫高窟的年代 -->
            <p class="dunhuang-time">{{books[i + 1].dynasty}}</p>

            {% endif %}
        </div>
      </section>
      {% endfor %}
      <!-- 如果书籍数量是奇数，处理最后一个书籍 -->
      {% if books|length % 2 == 1 %}
      <section class="page">
        <!-- 前一页 -->
        <div class="front">
          <!-- 最后一个对象 -->
          <!-- 敦煌莫高窟名称 -->
          <h1 class="dunhuang-name">{{books[-1].name}}</h1>
          <div class="dunhuang-img">
            <!-- 敦煌莫高窟图片 -->
            <img src="{{books[-1].img_link}}" alt="{{books[-1].name}}">
          </div>
          <!-- 敦煌莫高窟的年代 -->
          <p class="dunhuang-time">{{books[-1].dynasty}}</p>
        </div>
      </section>
      {% endif %}
      {% endif %}
    </article>
  </div>

  <!--底部模块-->
  <footer class="cloth-footer">
    <!--版心-->
    <div class="container">
      <!--左边部分-->
      <div class="footer-left icon">
        <p>
          文化魅力
          <img src="../static/images/菏泽牡丹.png" alt="菏泽牡丹">
          是一个
          致力于传承和弘扬中华优秀传统文化的平台<br><br>
        </p>
      </div>
      <!--右边部分-->
      <div class="footer-right icon">
        <h2>个人倾力制作</h2><br>
        <ul>
          <li>邮箱:3163880836@qq.com</li><br>
          <li>
            版权所有
            <img src="../static/images/版权.png" alt="版权">
            <strong>信管2301-刘紫涵-1602230121</strong>
          </li>
        </ul>
      </div>
    </div>
  </footer>
  <!-- 引入jQuery -->
  <script src="../static/js/jquery-3.7.1.min.js" type="text/javascript"></script>
  <!-- 导入外部https://raw.github.com的插件 -->
  <script src='https://raw.github.com/EightMedia/hammer.js/v1.0.5/dist/jquery.hammer.min.js'></script>
  <script>
    var currentPage = 0;

    $('.book')
      .on('click', '.active', nextPage)
      .on('click', '.flipped', prevPage);

    $('.book').hammer().on("swipeleft", nextPage);
    $('.book').hammer().on("swiperight", prevPage);

    function prevPage() {

      $('.flipped')
        .last()
        .removeClass('flipped')
        .addClass('active')
        .siblings('.page')
        .removeClass('active');
    }
    function nextPage() {

      $('.active')
        .removeClass('active')
        .addClass('flipped')
        .next('.page')
        .addClass('active')
        .siblings();


    }
  </script>
</body>

</html>