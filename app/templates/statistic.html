<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<!-- 设置屏幕宽度为设备宽度，初始缩放比例为1.0 -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- 定义网站的描述和关键词 -->
	<meta name="description" content="文化魅力是一个致力于传承和弘扬中华优秀传统文化的平台，提供丰富的古籍典藏、非物质文化遗产和著名诗人的介绍。
					" />
	<meta name="keywords" content="
				   文化魅力,中华传统文化,古籍典藏,非物质文化遗产,著名诗人，敦煌壁画，文物珍宝，统计图展
					 " />
	<!-- 设置网站图标 -->
	<link rel="shortcut icon" href="../../static/favicon.ico" type="image/x-icon">
	<title>统计图展</title>
	<!-- 导入自定义样式 -->
	<link type="text/css" href="../static/css/statistic.css" rel="stylesheet">
	<script type="text/javascript">
		document.documentElement.style.fontSize = document.documentElement.clientWidth / 768 * 100 + 'px';
	</script>
	<!-- 导入外部网站的echarts -->
	<script src="https://www.jq22.com/jquery/echarts-4.2.1.min.js"></script>
</head>

<body>
	<div class="bg">
		<!-- 总体的左边部分 -->
		<div class="leftMain">
			<!-- 顶部古籍数据可视化模块 -->
			<div class="leftMain_top">
				<div class="leftMain_topIn">
					<ul>
						<li>
							<div class="liIn">
								<h3>本馆资源</h3>
								<p class="shu"><span class="shu1">15</span><i>个库</i></p>
								<span class="border_bg_leftTop"></span>
								<span class="border_bg_rightTop"></span>
								<span class="border_bg_leftBottom"></span>
								<span class="border_bg_rightBottom"></span>
							</div>
						</li>
						<li>
							<div class="liIn">
								<h3>外馆资源</h3>
								<p class="shu"><span class="shu2">11</span><i>个库</i></p>
								<span class="border_bg_leftTop"></span>
								<span class="border_bg_rightTop"></span>
								<span class="border_bg_leftBottom"></span>
								<span class="border_bg_rightBottom"></span>
							</div>
						</li>
						<li>
							<div class="liIn">
								<h3>古籍检索分析系统</h3>
								<p class="shu"><span class="shu3">14</span><i>个库</i></p>
								<span class="border_bg_leftTop"></span>
								<span class="border_bg_rightTop"></span>
								<span class="border_bg_leftBottom"></span>
								<span class="border_bg_rightBottom"></span>
							</div>
						</li>
					</ul>
				</div>
			</div>
			<!-- 中间模块 -->
			<div class="leftMain_middle">
				<!-- 敦煌莫高窟数据可视化模块 -->
				<div class="leftMain_middle_left">
					<div class="leftMain_middle_leftIn">
						<h3>敦煌莫高窟朝代</h3>
						<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
						<div class="treasure" style="width:100%; height:25vh" id="chartmain"></div>
						<script type="text/javascript">
							// 接收后端传递的dynasty_count数据
							var dynastyCount = {{ dynasty_count | tojson | safe }}


							// 转换数据格式
							var dataAxis = Object.keys(dynastyCount);
							var data = Object.values(dynastyCount);
							var yMax = Math.max(...data) + 10;
							var dataShadow = [];

							for (var i = 0; i < data.length; i++) {
								dataShadow.push(yMax);
							}

							option = {
								grid: {
									x: 40,
									y: 40,
									x2: 20,
									y2: 20,
								},
								xAxis: {
									data: dataAxis,
									axisLabel: {
										interval: 0,
										textStyle: {
											color: '#fff',
											fontSize: 12
										}
									},
									axisTick: {
										show: false,
									},
									axisLine: {
										show: true,
										symbol: ['none', 'arrow'],
										symbolOffset: 12,
										lineStyle: {
											color: '#fff',
										}
									},
									z: 10
								},
								yAxis: {
									type: 'value',
									name: '数量',
									axisLine: {
										show: true,
										symbol: ['none', 'arrow'],
										symbolOffset: 12,
										lineStyle: {
											color: '#fff',
										}
									},
									axisTick: {
										show: false
									},
									axisLabel: {
										textStyle: {
											color: '#fff',
											fontSize: 12
										}
									}
								},
								dataZoom: [
									{
										type: 'inside'
									}
								],
								series: [
									{ // For shadow
										type: 'bar',
										itemStyle: {
											color: 'rgba(0,0,0,0.05)'
										},
										barGap: '-100%',
										barCategoryGap: '40%',
										data: dataShadow,
										animation: false
									},
									{
										type: 'bar',
										itemStyle: {
											color: new echarts.graphic.LinearGradient(
												0, 0, 0, 1,
												[
													{ offset: 0, color: '#0efdff' },
													{ offset: 0.5, color: '#188df0' },
													{ offset: 1, color: '#188df0' }
												]
											)
										},
										emphasis: {
											itemStyle: {
												color: new echarts.graphic.LinearGradient(
													0, 0, 0, 1,
													[
														{ offset: 0, color: '#2378f7' },
														{ offset: 0.7, color: '#2378f7' },
														{ offset: 1, color: '#0efdff' }
													]
												)
											}
										},
										data: data
									}
								]
							};

							//获取dom容器
							var myChart = echarts.init(document.getElementById('chartmain'));
							// 使用刚指定的配置项和数据显示图表。
							myChart.setOption(option);
						</script>
						<span class="border_bg_leftTop"></span>
						<span class="border_bg_rightTop"></span>
						<span class="border_bg_leftBottom"></span>
						<span class="border_bg_rightBottom"></span>
					</div>
				</div>

				<!-- 汉服模块 -->
				<div class="leftMain_middle_right">
					<div class="leftMain_middle_rightIn">
						<h3>汉服各类喜爱情况</h3>
						<div class="treasure treasure_pai" style="width:100%; height:25vh">
							<div class="treasure_paiIn">
								<ul>
									<li>
										<div class="liIn">
											<div class="liIn_left"><span class="bot"></span><span class="zi">官服</span>
											</div>
											<div class="liIn_line">
												<div class="line_lineIn" style="width:68.5%;"></div>
											</div>
											<p class="num">68.5%</p>
										</div>
									</li>
									<li>
										<div class="liIn liIn2">
											<div class="liIn_left"><span class="bot"></span><span class="zi">民服</span>
											</div>
											<div class="liIn_line">
												<div class="line_lineIn" style="width:88.5%;"></div>
											</div>
											<p class="num">88.5%</p>
										</div>
									</li>
									<li>
										<div class="liIn liIn3">
											<div class="liIn_left"><span class="bot"></span><span class="zi">婚服</span>
											</div>
											<div class="liIn_line">
												<div class="line_lineIn" style="width:68.5%;"></div>
											</div>
											<p class="num">68.5%</p>
										</div>
									</li>
									<li>
										<div class="liIn liIn4">
											<div class="liIn_left"><span class="bot"></span><span class="zi">孩童服</span>
											</div>
											<div class="liIn_line">
												<div class="line_lineIn" style="width:40.5%;"></div>
											</div>
											<p class="num">40.5%</p>
										</div>
									</li>
									<li>
										<div class="liIn liIn5">
											<div class="liIn_left"><span class="bot"></span><span class="zi">儒士服</span>
											</div>
											<div class="liIn_line">
												<div class="line_lineIn" style="width:12.5%;"></div>
											</div>
											<p class="num">12.5%</p>
										</div>
									</li>
									<li>
										<div class="liIn liIn6">
											<div class="liIn_left"><span class="bot"></span><span class="zi">武服</span>
											</div>
											<div class="liIn_line">
												<div class="line_lineIn" style="width:20.5%;"></div>
											</div>
											<p class="num">20.5%</p>
										</div>
									</li>
								</ul>
							</div>
						</div>
						<span class="border_bg_leftTop"></span>
						<span class="border_bg_rightTop"></span>
						<span class="border_bg_leftBottom"></span>
						<span class="border_bg_rightBottom"></span>
					</div>
				</div>
			</div>
			<!-- 中间模块 -->
			<div class="leftMain_middle">
				<!-- 中间左边模块 -->
				<div class="leftMain_middle_left">
					<div class="leftMain_middle_leftIn">
						<h3>中国历史朝代更迭</h3>
						<div class="treasure" style="width:100%; height:25vh" id="chartmain_zhe"></div>
						<script type="text/javascript">
							// 指定图表的配置项和数据
							option = {
								title: {
									text: '中国历史朝代更迭图',
									textStyle: {
										color: '#fff',
										fontSize: 14
									}
								},
								tooltip: {
									trigger: 'axis',
									axisPointer: {
										type: 'shadow'
									}
								},
								legend: {
									textStyle: {
										color: '#fff',
										fontSize: 12,
									},
									right: '10%',
									data: ['持续时间']
								},
								grid: {
									x: 40,
									y: 40,
									x2: 20,
									y2: 20,
								},
								xAxis: {
									type: 'category',
									axisLabel: {
										interval: 0,
										textStyle: {
											color: '#fff',
											fontSize: 12
										}
									},
									axisTick: {
										show: false,
									},
									axisLine: {
										show: true,
										symbol: ['none', 'arrow'],
										symbolOffset: 12,
										lineStyle: {
											color: '#fff',
										}
									},
									data: ['夏', '商', '周', '秦', '汉', '三国', '晋', '南北朝', '隋', '唐', '五代十国', '宋', '元', '明', '清']
								},
								yAxis: {
									type: 'value',
									axisLine: {
										show: true,
										symbol: ['none', 'arrow'],
										symbolOffset: 12,
										lineStyle: {
											color: '#fff',
										}
									},
									axisTick: {
										show: false
									},
									axisLabel: {
										textStyle: {
											color: '#fff',
											fontSize: 12
										}
									}
								},
								series: [
									{
										name: '持续时间',
										type: 'bar',
										data: [400, 550, 800, 15, 400, 60, 150, 170, 37, 289, 53, 319, 97, 276, 268],
										itemStyle: {
											color: new echarts.graphic.LinearGradient(
												0, 0, 0, 1,
												[
													{ offset: 0, color: '#188df0' },
													{ offset: 0.5, color: '#188df0' },
													{ offset: 1, color: '#0efdff' }
												]
											)
										}
									}
								]
							};
							//获取dom容器
							var myChart = echarts.init(document.getElementById('chartmain_zhe'));
							// 使用刚指定的配置项和数据显示图表。
							myChart.setOption(option);
						</script>
						<span class="border_bg_leftTop"></span>
						<span class="border_bg_rightTop"></span>
						<span class="border_bg_leftBottom"></span>
						<span class="border_bg_rightBottom"></span>
					</div>
				</div>

				<!-- 珍稀宝阁数据可视化模块 -->
				<div class="leftMain_middle_right">
					<div class="leftMain_middle_rightIn">
						<h3>珍稀宝阁</h3>
						<div class="treasure treasure_bi">
							<ul class="treasure treasure_list">
								{% if treasure %}
								{% for t in treasure %}
								<li class="liIn">
									<p class="shu shu1">{{t.num}}</p>
									<p class="zi">{{t.type}}</p>
								</li>
								{% endfor %}
								{% endif %}
							</ul>
						</div>
						<span class="border_bg_leftTop"></span>
						<span class="border_bg_rightTop"></span>
						<span class="border_bg_leftBottom"></span>
						<span class="border_bg_rightBottom"></span>
					</div>
				</div>
			</div>
		</div>
		<!-- 总体的右边部分 -->
		<div class="rightMain">
			<!-- 中国著名诗人模块数据可视化模块 -->
			<div class="rightMain_top">
				<div class="rightMain_topIn">
					<h3>中国著名诗人</h3>
					<div class="plotly">
						{{ poet_chart_html|safe }}
					</div>
					<span class="border_bg_leftTop"></span>
					<span class="border_bg_rightTop"></span>
					<span class="border_bg_leftBottom"></span>
					<span class="border_bg_rightBottom"></span>
				</div>
			</div>
			<!-- 非物质文化遗产数据可视化模块 -->
			<div class="rightMain_bottom">
				<div class="rightMain_bottomIn">
					<h3>非物质文化遗产</h3>
					<div class="heritage">
						<div class="heritage_title">
							<ul class="heritage_list">
								<li>类别</li>
								<li>名称</li>
								<li>申报时间</li>
								<li>申报单位</li>
							</ul>
						</div>
						<div class="heritage_item">
							{% if heritage %}
							{% for h in heritage %}
							<ul class="item">
								<li>{{h.type}}</li>
								<li>{{h.name}}</li>
								<li>{{h.time}}</li>
								<li>{{h.province}}</li>
							</ul>
							{% endfor %}
							{% endif %}
						</div>
					</div>
					<span class="border_bg_leftTop"></span>
					<span class="border_bg_rightTop"></span>
					<span class="border_bg_leftBottom"></span>
					<span class="border_bg_rightBottom"></span>
				</div>
			</div>
		</div>
		<div style="clear:both;"></div>
	</div>
	<!--数字增长累加动画-->
	<script src="../static/js/jquery-3.7.1.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="../static/js/statistic/jquery.numscroll.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(".shu1").numScroll();
		$(".shu2").numScroll();
		$(".shu3").numScroll();
		$(".shu4").numScroll();
		$(".shu5").numScroll();
		$(".shu6").numScroll();
	</script>

</body>

</html>